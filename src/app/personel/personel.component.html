<body>
  <!-- <div class="alert  alert-dismissible fade show text-center" role="alert">
    <ul class="lightrope">   
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
    -->

  <app-side-nav></app-side-nav>
  <app-nav-bar></app-nav-bar>



  <div class=" main1 mx-3 ">


    <div class=" ">

      <div class="card nav-tabs shadow p-3 mb-5 bg-body roundedshadow">
        <ul class="nav ">
          <li class="nav-item ">
            <a href="#personelAnaSayfa" class="nav-link active" data-bs-toggle="tab">Ana Sayfam</a>
          </li>
         
          <li class="nav-item ">
            <a href="#bildirimler" class="nav-link" data-bs-toggle="tab">Bildirimlerim</a>
          </li>
        </ul>
        
          <div style="background-color:#D3DEDC;" >
           <p class="mt-3 me-2 personelbilgi text-end" style=" font-weight: bold;">{{bolumAdi}}-{{meslekAdi}} |&nbsp; <span>YETKİNİZ: &nbsp;{{rolAdi}}</span> </p> 
          </div>
          
 
       
        <div class="tab-content">
          <!-- Anasayfa -->
          <div class="tab-pane fade show active  " id="personelAnaSayfa" style="background-color:#D3DEDC;">
            
            <div class="card toplam" style="width: 850px; border-radius: 10%;">
              <div class="card-body " style="background-color: #37747a;">
              <p class=" text-center  fs-5" style="color: aliceblue; font-weight: bold;">TOPLAM ÇALIŞMA SAATİ</p>
             
                <p class="anasayfaCounter text-center">{{toplamCalisma.data | number:"1.1-1"}}</p>
              </div>
            </div>
            
            <div class="card haftalik float-end" style="width: 850px;">
              <div class="card-body" style="background-color: #D8A03F;">
              <p class=" text-center fs-5 " style="color: aliceblue; font-weight: bold;">HAFTALIK ÇALIŞMA SAATİ</p>               
                <p class="anasayfaCounter text-center">{{haftalikCalisma.data | number:"1.1-1"}}</p>
              </div>
            </div>
            <div class="card aylik " style="width: 850px;">
              <div class="card-body" style="background-color: #9D9D9D;">
              <p class=" text-center fs-5 " style="color: aliceblue; font-weight: bold;">AYLIK ÇALIŞMA SAATİ</p>               
                <p class="anasayfaCounter text-center">{{aylikCalisma.data | number:"1.1-1"}}</p>
              </div>
            </div>
          
          
        </div>

          

         

          <!-- Bildirimlerim -->
          <div class="tab-pane fade" id="bildirimler">
            <div class="row">
              <div class="col">
               
              </div>
             
            </div>


            <div class="">
              <p-table #dt [value]="getallBildirim"  [scrollable]="true" scrollHeight="600px" id="excel-table" [globalFilterFields]="['projeNo','workDate','createdtime','workHour','workDescription','status']">
                <ng-template pTemplate="caption">
                  <div class="flex ">
                      <span> 
                        <button class="  btnExcel   mt-2 mb-2" (click)="operations.exportExcel()"><i
                        class="bi bi-file-earmark-excel"></i> Excel </button>
                      </span>
                      <span class="p-input-icon-left ml-auto float-end">
                          <i class="pi pi-search"></i>
                          <input pInputText type="text" (input)="dt.filterGlobal( $any($event.target).value, 'contains')" placeholder="Ara" />
                      </span>
                  </div>
              </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="projeNo"  [style]="{'width':'80px'}">Proje No.<p-sortIcon field="projeNo"></p-sortIcon></th>
                    <th pSortableColumn="workDate" [style]="{'width':'80px'}">Çalışma Tarihi<p-sortIcon field="workDate"></p-sortIcon></th>
                    <th pSortableColumn="workHour" [style]="{'width':'110'}">Çalışma Süresi<p-sortIcon field="workHour"></p-sortIcon></th>
                    <th pSortableColumn="createdtime" [style]="{'width':'110'}">Bildirim Tarihi<p-sortIcon field="createdtime"></p-sortIcon></th>
                   
                    <th pSortableColumn="workDescription" [style]="{'width':'200px'}" > İş Açıklaması<p-sortIcon field="workDescription"></p-sortIcon></th>
                    <th pSortableColumn="status" [style]="{'width':'110'}">Bildirim Durumu<p-sortIcon field="status"></p-sortIcon></th>
                    <th ></th>
                    
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-getallBildirim >
                  <tr>
                    <td>{{getallBildirim.projeNo}}</td>
                    <td>{{getallBildirim.workDate | date: 'dd-MM-yyyy'}}</td>
                    <td>{{getallBildirim.workHour }}:{{getallBildirim.workMinute  }}</td>
                    <td>{{getallBildirim.createdtime | date: 'dd-MM-yyyy, HH:MM' }}</td>
                    
                    <td>{{getallBildirim.workDescription}}</td>
                    <td>{{getallBildirim.status}}</td>
                    <td *ngIf="getallBildirim.statusid==1"><button class="btn  btnEdit  " data-bs-toggle="modal" data-bs-target="#editmodal" placement="top" ngbTooltip="Düzenlemek İçin Tıklayınız" (click)="updateBildirim(getallBildirim)"><i class="bi bi-pencil-square"></i></button></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                      <td colspan="5" style="color: red;">Sonuç Bulunamadı</td>
                  </tr>
              </ng-template>
              </p-table>

            
            </div>
           
            
          </div>
        </div>
      </div>
    </div>
  </div>




  <!-- Modal -->
  <div class="modal fade  modal-lg " id="editmodal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-dark ">
          <h1 class="modal-title fs-5 text-light text-center" id="exampleModalLabel">Bildirim Düzenle</h1>
          <button type="button" class="btn-close bg-light" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container">

            <div class="row">
              <div class="col">
                <p>Projeler</p>
                 
                <p-dropdown  [options]="projeListesi" [(ngModel)]="bosSecilen" optionLabel="projectName" [filter]="true" filterBy="projectName" [showClear]="false" placeholder="Proje Seçiniz"   [change]="updatedpChanged()"></p-dropdown>
                  
              </div>
              <div class="col">
                <p>Çalışma Türü</p>
                <select class="form-select mb-3" [(ngModel)]="updatedata.workType">
                  <option value=2>Ofis</option>
                  <option value=1>Ev</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col">
                <p>Çalışma Günü</p>
                <p-calendar dateFormat="yy-mm-dd" [(ngModel)]="updatedata.workDate" dataType="string"
                  [maxDate]="dateTime"></p-calendar>
              </div>
              <div class="col">
                <p>Çalışma Saati</p>
                <ngb-timepicker id='time' [(ngModel)]="time" [spinners]="spinners"></ngb-timepicker>
              </div>
            </div>

          </div>

          <div class="container">
            <p>Açıklama</p>
            <textarea class="form-control" [(ngModel)]="updatedata.workDescription" style="height: 100px"></textarea>
          </div>
        </div>





        <div class="modal-footer justify-content-center  ">
          <button type="button" class="btnClose" data-bs-dismiss="modal"><i class="bi bi-x-circle"></i> İptal</button>
          <button type="button" class=" btnSave" data-bs-dismiss="modal" (click)="bildirimGuncelle()"><i
              class="bi bi-check-lg"></i> Kaydet</button>
        </div>
      </div>
    </div>
  </div>


    <!-- DUYURULAR -->
  <!-- <div class="container main1">


    <div class="alert duyuru alert-secondary alert-dismissible fade show " role="alert">
      <h4 class="alert-heading text-center" style="font-weight: bold; color:rebeccapurple;">DUYURULAR</h4>
      <hr>
      <ng-container *ngFor="let test of  ">
      <div class="alert  alert-dismissible fade show" role="alert" style="background-color:whitesmoke ;">
        <div class="row">
          <div class="col">
             <i class="bi bi-exclamation-triangle" style="color: darkorange;"></i>
          </div>
          <div class="col">
            <p>p1</p>
          </div>
          <div class="col">
            <p>2</p>
          </div>
          <div class="col">
            <p>3</p>
          </div>
        </div>
        
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    </ng-container>
     
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
 
  </div> -->

</body>